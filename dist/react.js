"use strict";var e=require("react"),r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},r(e,t)};var t=function(){return t=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},t.apply(this,arguments)};function n(e,r,t,n){return new(t||(t=Promise))(function(o,a){function i(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(i,s)}c((n=n.apply(e,r||[])).next())})}function o(e,r){var t,n,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(t=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=r.call(e,a)}catch(e){s=[6,e],n=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function a(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,a=t.call(e),i=[];try{for(;(void 0===r||r-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i}"function"==typeof SuppressedError&&SuppressedError;var s,c={exports:{}},l={};var u,d={};
/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */"production"===process.env.NODE_ENV?c.exports=function(){if(s)return l;s=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function t(r,t,n){var o=null;if(void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),"key"in t)for(var a in n={},t)"key"!==a&&(n[a]=t[a]);else n=t;return t=n.ref,{$$typeof:e,type:r,key:o,ref:void 0!==t?t:null,props:n}}return l.Fragment=r,l.jsx=t,l.jsxs=t,l}():c.exports=(u||(u=1,"production"!==process.env.NODE_ENV&&function(){function r(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===_?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case k:return"SuspenseList";case D:return"Activity"}if("object"==typeof e)switch("number"==typeof e.tag&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),e.$$typeof){case p:return"Portal";case m:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(t=e.displayName||null)?t:r(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return r(e(t))}catch(e){}}return null}function t(e){return""+e}function n(e){try{t(e);var r=!1}catch(e){r=!0}if(r){var n=(r=console).error,o="function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object";return n.call(r,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",o),t(e)}}function o(e){if(e===g)return"<>";if("object"==typeof e&&null!==e&&e.$$typeof===C)return"<...>";try{var t=r(e);return t?"<"+t+">":"<...>"}catch(e){return"<...>"}}function a(){return Error("react-stack-top-frame")}function i(){var e=r(this.type);return O[e]||(O[e]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),void 0!==(e=this.props.ref)?e:null}function s(e,t,o,a,s,l){var d,f=t.children;if(void 0!==f)if(a)if(A(f)){for(a=0;a<f.length;a++)c(f[a]);Object.freeze&&Object.freeze(f)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else c(f);if(P.call(t,"key")){f=r(e);var p=Object.keys(t).filter(function(e){return"key"!==e});a=0<p.length?"{key: someKey, "+p.join(": ..., ")+": ...}":"{key: someKey}",I[f+a]||(p=0<p.length?"{"+p.join(": ..., ")+": ...}":"{}",console.error('A props object containing a "key" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />',a,f,p,f),I[f+a]=!0)}if(f=null,void 0!==o&&(n(o),f=""+o),function(e){if(P.call(e,"key")){var r=Object.getOwnPropertyDescriptor(e,"key").get;if(r&&r.isReactWarning)return!1}return void 0!==e.key}(t)&&(n(t.key),f=""+t.key),"key"in t)for(var g in o={},t)"key"!==g&&(o[g]=t[g]);else o=t;return f&&function(e,r){function t(){u||(u=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",r))}t.isReactWarning=!0,Object.defineProperty(e,"key",{get:t,configurable:!0})}(o,"function"==typeof e?e.displayName||e.name||"Unknown":e),function(e,r,t,n,o,a){var s=t.ref;return e={$$typeof:h,type:e,key:r,props:t,_owner:n},null!==(void 0!==s?s:null)?Object.defineProperty(e,"ref",{enumerable:!1,get:i}):Object.defineProperty(e,"ref",{enumerable:!1,value:null}),e._store={},Object.defineProperty(e._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(e,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(e,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:o}),Object.defineProperty(e,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:a}),Object.freeze&&(Object.freeze(e.props),Object.freeze(e)),e}(e,f,o,null===(d=E.A)?null:d.getOwner(),s,l)}function c(e){l(e)?e._store&&(e._store.validated=1):"object"==typeof e&&null!==e&&e.$$typeof===C&&("fulfilled"===e._payload.status?l(e._payload.value)&&e._payload.value._store&&(e._payload.value._store.validated=1):e._store&&(e._store.validated=1))}function l(e){return"object"==typeof e&&null!==e&&e.$$typeof===h}var u,f=e,h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),m=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),_=Symbol.for("react.client.reference"),E=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=Object.prototype.hasOwnProperty,A=Array.isArray,j=console.createTask?console.createTask:function(){return null},O={},B=(f={react_stack_bottom_frame:function(e){return e()}}).react_stack_bottom_frame.bind(f,a)(),N=j(o(a)),I={};d.Fragment=g,d.jsx=function(e,r,t){var n=1e4>E.recentlyCreatedOwnerStacks++;return s(e,r,t,!1,n?Error("react-stack-top-frame"):B,n?j(o(e)):N)},d.jsxs=function(e,r,t){var n=1e4>E.recentlyCreatedOwnerStacks++;return s(e,r,t,!0,n?Error("react-stack-top-frame"):B,n?j(o(e)):N)}}()),d);var f=c.exports,h=function(e){function t(r,t,n,o){var a=e.call(this,r)||this;return a.code=t,a.cacheType=n,a.originalError=o,a.name="CacheShieldError",a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),p=function(){function e(e,r){this.config=e,this.logger=r}return e.prototype.clearCacheAPI=function(){return n(this,void 0,void 0,function(){var e,r,t,n,i,s,c,l,u;return o(this,function(o){switch(o.label){case 0:if(!("caches"in window))return[2,{type:"cacheAPI",success:!1,error:"Cache API not supported"}];o.label=1;case 1:return o.trys.push([1,11,,12]),[4,caches.keys()];case 2:e=o.sent(),r=0,o.label=3;case 3:o.trys.push([3,8,9,10]),t=a(e),n=t.next(),o.label=4;case 4:return n.done?[3,7]:(i=n.value,this.shouldExclude(i)?(this.logger.debug("Skipping cache: ".concat(i)),[3,6]):this.shouldInclude(i)?[4,caches.delete(i)]:[3,6]);case 5:o.sent(),r++,this.logger.debug("Deleted cache: ".concat(i)),o.label=6;case 6:return n=t.next(),[3,4];case 7:return[3,10];case 8:return s=o.sent(),l={error:s},[3,10];case 9:try{n&&!n.done&&(u=t.return)&&u.call(t)}finally{if(l)throw l.error}return[7];case 10:return[2,{type:"cacheAPI",success:!0,itemsCleared:r}];case 11:throw c=o.sent(),new h("Failed to clear Cache API","UNKNOWN","cacheAPI",c instanceof Error?c:void 0);case 12:return[2]}})})},e.prototype.clearCookies=function(){return n(this,void 0,void 0,function(){var e,r,t,n,i,s,c,l,u,d,f,p,g,y,v,b;return o(this,function(o){try{e=this.config.cookies,r=null===(b=null==e?void 0:e.preserveEssential)||void 0===b||b,t=(null==e?void 0:e.essentialCookies)||[],n=null==e?void 0:e.names,i=null==e?void 0:e.domains,s=(null==e?void 0:e.paths)||["/"],c=this.parseCookies(),l=0,u=function(e){if(n&&n.length>0&&!n.includes(e.name))return"continue";if(r&&t.some(function(r){return e.name.toLowerCase().includes(r.toLowerCase())}))return d.logger.debug("Preserving essential cookie: ".concat(e.name)),"continue";d.deleteCookie(e.name,s,i),l++,d.logger.debug("Deleted cookie: ".concat(e.name))},d=this;try{for(f=a(c),p=f.next();!p.done;p=f.next())g=p.value,u(g)}catch(e){y={error:e}}finally{try{p&&!p.done&&(v=f.return)&&v.call(f)}finally{if(y)throw y.error}}return[2,{type:"cookies",success:!0,itemsCleared:l}]}catch(e){throw new h("Failed to clear cookies","UNKNOWN","cookies",e instanceof Error?e:void 0)}return[2]})})},e.prototype.parseCookies=function(){return document.cookie.split(";").map(function(e){var r=i(e.trim().split("="),2);return{name:r[0],value:r[1]||""}}).filter(function(e){return e.name})},e.prototype.deleteCookie=function(e,r,t){void 0===r&&(r=["/"]);var n="Thu, 01 Jan 1970 00:00:00 GMT",o=this.config.cookies;if(null==o?void 0:o.domain)this.deleteCookieWithDomain(e,r,[o.domain],n);else{var a=t||this.getDomainsToTry();this.deleteCookieWithDomain(e,r,a,n)}},e.prototype.getDomainsToTry=function(){var e=window.location.hostname,r=e.split("."),t=[""];if(e&&(t.push(e),t.push("."+e)),r.length>=2){var n=r.slice(-2).join(".");n!==e&&(t.push(n),t.push("."+n))}if(r.length>=3){var o=r.slice(-3).join(".");o!==e&&!t.includes(o)&&o.split(".").length>=2&&(t.push(o),t.push("."+o))}return function(e,r,t){if(t||2===arguments.length)for(var n,o=0,a=r.length;o<a;o++)!n&&o in r||(n||(n=Array.prototype.slice.call(r,0,o)),n[o]=r[o]);return e.concat(n||Array.prototype.slice.call(r))}([],i(new Set(t)),!1).filter(function(e){return""===e||"localhost"===e||/^\.?[a-zA-Z0-9][-a-zA-Z0-9]*(\.[a-zA-Z0-9][-a-zA-Z0-9]*)+$/.test(e)})},e.prototype.deleteCookieWithDomain=function(e,r,t,n){var o,i,s,c;try{for(var l=a(r),u=l.next();!u.done;u=l.next()){var d=u.value;try{for(var f=(s=void 0,a(t)),h=f.next();!h.done;h=f.next()){var p=h.value;if(!p||-1!==p.indexOf(".")||"localhost"===p){var g=p?"; domain=".concat(p):"";document.cookie="".concat(e,"=; expires=").concat(n,"; path=").concat(d).concat(g),document.cookie="".concat(e,"=; expires=").concat(n,"; path=").concat(d).concat(g,"; secure"),this.logger.debug('Attempted to delete cookie "'.concat(e,'"'),{domain:p||"(current)",path:d,timestamp:(new Date).toISOString()})}}}catch(e){s={error:e}}finally{try{h&&!h.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}}}catch(e){o={error:e}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}},e.prototype.shouldExclude=function(e){var r=this.config.exclude;return!(!r||0===r.length)&&r.some(function(r){return"string"==typeof r?e.includes(r):r.test(e)})},e.prototype.shouldInclude=function(e){var r=this.config.include;return!r||0===r.length||r.some(function(r){return"string"==typeof r?e.includes(r):r.test(e)})},e}(),g=function(){function e(e,r){this.config=e,this.logger=r}return e.prototype.clear=function(){return n(this,arguments,void 0,function(e){var r,t,n,i,s,c,l,u,d;return void 0===e&&(e={}),o(this,function(o){switch(o.label){case 0:if(!("serviceWorker"in navigator))return[2,{type:"serviceWorker",success:!1,error:"Service Workers not supported"}];o.label=1;case 1:return o.trys.push([1,13,,14]),[4,navigator.serviceWorker.getRegistrations()];case 2:r=o.sent(),t=0,o.label=3;case 3:o.trys.push([3,8,9,10]),n=a(r),i=n.next(),o.label=4;case 4:return i.done?[3,7]:(s=i.value,this.shouldExclude(s.scope)?(this.logger.debug("Skipping SW: ".concat(s.scope)),[3,6]):[4,s.unregister()]);case 5:o.sent()&&(t++,this.logger.debug("Unregistered SW: ".concat(s.scope))),o.label=6;case 6:return i=n.next(),[3,4];case 7:return[3,10];case 8:return c=o.sent(),u={error:c},[3,10];case 9:try{i&&!i.done&&(d=n.return)&&d.call(n)}finally{if(u)throw u.error}return[7];case 10:return e.skipCacheClear?[3,12]:[4,this.clearServiceWorkerCaches()];case 11:o.sent(),o.label=12;case 12:return[2,{type:"serviceWorker",success:!0,itemsCleared:t}];case 13:throw l=o.sent(),new h("Failed to clear Service Workers","UNKNOWN","serviceWorker",l instanceof Error?l:void 0);case 14:return[2]}})})},e.prototype.clearServiceWorkerCaches=function(){return n(this,void 0,void 0,function(){var e,r,t,n,i,s,c,l;return o(this,function(o){switch(o.label){case 0:return"caches"in window?[4,caches.keys()]:[2,0];case 1:e=o.sent(),r=0,o.label=2;case 2:o.trys.push([2,7,8,9]),t=a(e),n=t.next(),o.label=3;case 3:return n.done?[3,6]:(i=n.value,this.shouldExclude(i)?[3,5]:[4,caches.delete(i)]);case 4:o.sent(),r++,this.logger.debug("Deleted cache: ".concat(i)),o.label=5;case 5:return n=t.next(),[3,3];case 6:return[3,9];case 7:return s=o.sent(),c={error:s},[3,9];case 8:try{n&&!n.done&&(l=t.return)&&l.call(t)}finally{if(c)throw c.error}return[7];case 9:return[2,r]}})})},e.prototype.shouldExclude=function(e){var r=this.config.exclude;return!(!r||0===r.length)&&r.some(function(r){return"string"==typeof r?e.includes(r):r.test(e)})},e.prototype.update=function(){return n(this,void 0,void 0,function(){var e,r;return o(this,function(t){switch(t.label){case 0:if(!("serviceWorker"in navigator))return[2,!1];t.label=1;case 1:return t.trys.push([1,5,,6]),[4,navigator.serviceWorker.getRegistration()];case 2:return(null==(e=t.sent())?void 0:e.waiting)?(e.waiting.postMessage({type:"SKIP_WAITING"}),[2,!0]):e?[4,e.update()]:[3,4];case 3:return t.sent(),[2,!0];case 4:return[2,!1];case 5:return r=t.sent(),this.logger.error("Failed to update Service Worker",r),[2,!1];case 6:return[2]}})})},e}(),y=function(){function e(e,r){this.config=e,this.logger=r}return e.prototype.clearLocalStorage=function(){return n(this,void 0,void 0,function(){return o(this,function(e){return[2,this.clearStorage("localStorage",localStorage)]})})},e.prototype.clearSessionStorage=function(){return n(this,void 0,void 0,function(){return o(this,function(e){return[2,this.clearStorage("sessionStorage",sessionStorage)]})})},e.prototype.clearStorage=function(e,r){return n(this,void 0,void 0,function(){var t,n,i,s,c,l,u,d,f,p,g,y,v,b,m,w,S,k;return o(this,function(o){try{for(t=this.config.storage,n=(null==t?void 0:t.preserveKeys)||[],i=null==t?void 0:t.preservePattern,s=null==t?void 0:t.keyPattern,c=[],l=[],u=0;u<r.length;u++)(b=r.key(u))&&(n.includes(b)||i&&i.test(b)?l.push(b):s&&!s.test(b)||c.push(b));d=0;try{for(f=a(c),p=f.next();!p.done;p=f.next())b=p.value,(g=r.getItem(b))&&(d+=b.length+g.length)}catch(e){m={error:e}}finally{try{p&&!p.done&&(w=f.return)&&w.call(f)}finally{if(m)throw m.error}}d*=2;try{for(y=a(c),v=y.next();!v.done;v=y.next())b=v.value,r.removeItem(b),this.logger.debug("Removed ".concat(e," key: ").concat(b))}catch(e){S={error:e}}finally{try{v&&!v.done&&(k=y.return)&&k.call(y)}finally{if(S)throw S.error}}return this.logger.info("".concat(e," cleared"),{removed:c.length,preserved:l.length}),[2,{type:e,success:!0,itemsCleared:c.length,bytesFreed:d}]}catch(r){throw new h("Failed to clear ".concat(e),"UNKNOWN",e,r instanceof Error?r:void 0)}return[2]})})},e.prototype.getStorageStats=function(){return{localStorage:this.calculateStorageSize(localStorage),sessionStorage:this.calculateStorageSize(sessionStorage)}},e.prototype.calculateStorageSize=function(e){for(var r=0,t=0;t<e.length;t++){var n=e.key(t);if(n){var o=e.getItem(n)||"";r+=2*(n.length+o.length)}}return r},e}(),v=function(){function e(e,r){this.config=e,this.logger=r}return e.prototype.clear=function(){return n(this,void 0,void 0,function(){var e,r,t,n,i,s,c,l,u,d,f,p,g,y;return o(this,function(o){switch(o.label){case 0:if(!("indexedDB"in window))return[2,{type:"indexedDB",success:!1,error:"IndexedDB not supported"}];o.label=1;case 1:return o.trys.push([1,14,,15]),[4,this.getDatabases()];case 2:e=o.sent(),r=this.config.indexedDB,t=null==r?void 0:r.databases,n=null===(y=null==r?void 0:r.deleteDatabase)||void 0===y||y,i=0,o.label=3;case 3:o.trys.push([3,11,12,13]),s=a(e),c=s.next(),o.label=4;case 4:return c.done?[3,10]:(l=c.value,(u=l.name)?t&&t.length>0&&!t.includes(u)?[3,9]:this.shouldExclude(u)?(this.logger.debug("Skipping IndexedDB: ".concat(u)),[3,9]):n?[4,this.deleteDatabase(u)]:[3,6]:[3,9]);case 5:return o.sent(),[3,8];case 6:return[4,this.clearDatabaseData(u)];case 7:o.sent(),o.label=8;case 8:i++,this.logger.debug("Cleared IndexedDB: ".concat(u)),o.label=9;case 9:return c=s.next(),[3,4];case 10:return[3,13];case 11:return d=o.sent(),p={error:d},[3,13];case 12:try{c&&!c.done&&(g=s.return)&&g.call(s)}finally{if(p)throw p.error}return[7];case 13:return[2,{type:"indexedDB",success:!0,itemsCleared:i}];case 14:throw f=o.sent(),new h("Failed to clear IndexedDB","UNKNOWN","indexedDB",f instanceof Error?f:void 0);case 15:return[2]}})})},e.prototype.getDatabases=function(){return n(this,void 0,void 0,function(){var e;return o(this,function(r){switch(r.label){case 0:if(!("databases"in indexedDB))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,indexedDB.databases()];case 2:return[2,r.sent()];case 3:return e=r.sent(),this.logger.warn("indexedDB.databases() failed",e),[2,this.getFallbackDatabases()];case 4:return[2,this.getFallbackDatabases()]}})})},e.prototype.getFallbackDatabases=function(){return n(this,void 0,void 0,function(){var e,r,t,n,i,s,c,l,u,d;return o(this,function(o){switch(o.label){case 0:if((e=(null===(d=this.config.indexedDB)||void 0===d?void 0:d.databases)||[]).length>0)return this.logger.debug("Using configured database names",e),[2,e.map(function(e){return{name:e}})];r=["firebaseLocalStorageDb","_ionicstorage","reactnative","redux-persist","localforage","ngsw:cache:v1","vuex-persist","pouchdb","__zone_symbol__Promise","default"],t=[],o.label=1;case 1:o.trys.push([1,8,9,10]),n=a(r),i=n.next(),o.label=2;case 2:if(i.done)return[3,7];s=i.value,o.label=3;case 3:return o.trys.push([3,5,,6]),[4,this.testDatabaseExists(s)];case 4:return o.sent()&&t.push({name:s}),[3,6];case 5:return o.sent(),[3,6];case 6:return i=n.next(),[3,2];case 7:return[3,10];case 8:return c=o.sent(),l={error:c},[3,10];case 9:try{i&&!i.done&&(u=n.return)&&u.call(n)}finally{if(l)throw l.error}return[7];case 10:return 0===t.length&&this.logger.warn("No IndexedDB databases found. Specify databases in config for Safari/older browsers.",{example:'indexedDB: { databases: ["my-db"] }'}),[2,t]}})})},e.prototype.testDatabaseExists=function(e){return new Promise(function(r){try{var t=indexedDB.open(e),n=!1;t.onsuccess=function(){var e=t.result;n=e.objectStoreNames.length>0,e.close(),r(n)},t.onerror=function(){r(!1)},t.onupgradeneeded=function(){t.result.close(),r(!1)},setTimeout(function(){!n&&t.result&&(t.result.close(),r(n))},1e3)}catch(e){r(!1)}})},e.prototype.deleteDatabase=function(e){var r=this;return new Promise(function(t,n){var o=indexedDB.deleteDatabase(e);o.onsuccess=function(){r.logger.debug("Deleted database: ".concat(e)),t()},o.onerror=function(){n(new Error("Failed to delete database: ".concat(e)))},o.onblocked=function(){r.logger.warn("Database deletion blocked: ".concat(e)),n(new Error("Database deletion blocked (open in another tab): ".concat(e)))}})},e.prototype.clearDatabaseData=function(e){return n(this,void 0,void 0,function(){var r=this;return o(this,function(t){return[2,new Promise(function(t,i){var s=indexedDB.open(e);s.onsuccess=function(){return n(r,void 0,void 0,function(){var r,n,c,l,u,d,f,h;return o(this,function(o){if(r=s.result,0===(n=Array.from(r.objectStoreNames)).length)return r.close(),t(),[2];c=r.transaction(n,"readwrite");try{for(l=a(n),u=l.next();!u.done;u=l.next())d=u.value,c.objectStore(d).clear()}catch(e){f={error:e}}finally{try{u&&!u.done&&(h=l.return)&&h.call(l)}finally{if(f)throw f.error}}return c.oncomplete=function(){r.close(),t()},c.onerror=function(){r.close(),i(new Error("Failed to clear data in: ".concat(e)))},[2]})})},s.onerror=function(){i(new Error("Failed to open database: ".concat(e)))}})]})})},e.prototype.shouldExclude=function(e){var r=this.config.exclude;return!(!r||0===r.length)&&r.some(function(r){return"string"==typeof r?e.includes(r):r.test(e)})},e}(),b=function(){function e(e){this.logger=e}return e.prototype.reload=function(e){void 0===e&&(e=!0),e?this.performCacheBustedReload():(this.logger.debug("Performing standard reload"),window.location.reload())},e.prototype.performCacheBustedReload=function(){this.logger.debug("Performing smart cache-busting reload");try{var e=new URL(window.location.href);e.searchParams.set("_cs_bust",Date.now().toString()),window.location.replace(e.toString())}catch(e){this.logger.warn("Smart reload failed, falling back to standard reload",e),window.location.reload()}},e}(),m=function(){function e(e){this.logger=e,this.initialized=!1}return e.prototype.init=function(){var e=this;this.initialized||"undefined"==typeof window||(window.addEventListener("pageshow",function(r){r.persisted&&(e.logger.info("Page restored from bfcache detected, forcing reload to ensure freshness"),window.location.reload())}),this.initialized=!0,this.logger.debug("BfCache protection initialized"))},e}(),w=function(){function e(e){void 0===e&&(e=!1),this.enabled=e,this.prefix="[CacheShield]"}return e.prototype.debug=function(e,r){this.log("debug",e,r)},e.prototype.info=function(e,r){this.log("info",e,r)},e.prototype.warn=function(e,r){this.log("warn",e,r)},e.prototype.error=function(e,r){this.log("error",e,r)},e.prototype.success=function(e,r){this.log("success",e,r)},e.prototype.log=function(e,r,t){if(this.enabled||"debug"!==e)if("undefined"!=typeof window&&"undefined"!=typeof document){console["error"===e?"error":"warn"===e?"warn":"log"]("%c".concat({debug:"üîç",info:"‚ÑπÔ∏è",warn:"‚ö†Ô∏è",error:"‚ùå",success:"‚úÖ"}[e]," ").concat(this.prefix," ").concat(r),{debug:"color: #888",info:"color: #2196F3",warn:"color: #FF9800",error:"color: #F44336",success:"color: #4CAF50"}[e],void 0!==t?t:"")}else{console["error"===e?"error":"warn"===e?"warn":"log"]("[".concat(e.toUpperCase(),"] ").concat(this.prefix," ").concat(r),void 0!==t?t:"")}},e}();function S(e){try{var r=window[e],t="__cache_shield_test__";return r.setItem(t,"test"),r.removeItem(t),!0}catch(e){return!1}}var k=function(){function e(e){void 0===e&&(e={}),this.config=this.mergeConfig(e),this.logger=new w(this.config.debug),this.capabilities={serviceWorker:"serviceWorker"in navigator,cacheAPI:"caches"in window,indexedDB:"indexedDB"in window,localStorage:S("localStorage"),sessionStorage:S("sessionStorage"),cookies:navigator.cookieEnabled,storageEstimate:"storage"in navigator&&"estimate"in navigator.storage,persistentStorage:"storage"in navigator&&"persist"in navigator.storage},this.browserCache=new p(this.config,this.logger),this.serviceWorker=new g(this.config,this.logger),this.storage=new y(this.config,this.logger),this.indexedDB=new v(this.config,this.logger),this.reloader=new b(this.logger),this.bfCache=new m(this.logger),this.config.preventBfCache&&this.bfCache.init(),this.logger.info("CacheShield initialized",{config:this.config,capabilities:this.capabilities})}return e.prototype.clear=function(e){return n(this,void 0,void 0,function(){var r,n,i,s,c,l,u,d,f,h,p,g,y,v,b,m,w,S,k,x,C,D,_,E,P,A,j,O,B=this;return o(this,function(o){switch(o.label){case 0:r=performance.now(),n=e?this.mergeConfig(t(t({},this.config),e)):this.config,i=this.resolveTargets(n.targets),this.logger.info("Starting cache clear",{targets:i}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,null===(D=(C=n.hooks).onBeforeClear)||void 0===D?void 0:D.call(C,i)];case 2:return o.sent(),[3,4];case 3:return s=o.sent(),this.logger.error("onBeforeClear hook failed",s),[3,4];case 4:c=[],l=i.length,u=0,d=i.includes("cacheAPI"),o.label=5;case 5:o.trys.push([5,13,14,15]),f=a(i),h=f.next(),o.label=6;case 6:if(h.done)return[3,12];p=h.value,o.label=7;case 7:return o.trys.push([7,9,,10]),[4,this.clearCacheType(p,{skipCacheClear:"serviceWorker"===p&&d})];case 8:return g=o.sent(),c.push(g),g.success?this.logger.success("Cleared ".concat(p),g):this.logger.warn("Failed to clear ".concat(p),g),[3,10];case 9:y=o.sent(),v=this.wrapError(y,p);try{null===(E=(_=n.hooks).onError)||void 0===E||E.call(_,v)}catch(e){this.logger.error("onError hook failed",e)}return c.push({type:p,success:!1,error:v.message}),[3,10];case 10:u++;try{null===(A=(P=n.hooks).onProgress)||void 0===A||A.call(P,{current:p,completed:u,total:l,percentage:Math.round(u/l*100)})}catch(e){this.logger.error("onProgress hook failed",e)}o.label=11;case 11:return h=f.next(),[3,6];case 12:return[3,15];case 13:return b=o.sent(),k={error:b},[3,15];case 14:try{h&&!h.done&&(x=f.return)&&x.call(f)}finally{if(k)throw k.error}return[7];case 15:m=performance.now()-r,w={success:c.every(function(e){return e.success}),cleared:c.filter(function(e){return e.success}),failed:c.filter(function(e){return!e.success}),timestamp:Date.now(),duration:m},this.logger.info("Cache clear completed",w),o.label=16;case 16:return o.trys.push([16,18,,19]),[4,null===(O=(j=n.hooks).onAfterClear)||void 0===O?void 0:O.call(j,w)];case 17:return o.sent(),[3,19];case 18:return S=o.sent(),this.logger.error("onAfterClear hook failed",S),[3,19];case 19:return n.autoReload&&w.success&&setTimeout(function(){B.reloader.reload(!0)},n.reloadDelay),[2,w]}})})},e.prototype.clearCacheType=function(e){return n(this,arguments,void 0,function(e,r){return void 0===r&&(r={}),o(this,function(t){switch(e){case"serviceWorker":return[2,this.serviceWorker.clear(r)];case"cacheAPI":return[2,this.browserCache.clearCacheAPI()];case"localStorage":return[2,this.storage.clearLocalStorage()];case"sessionStorage":return[2,this.storage.clearSessionStorage()];case"indexedDB":return[2,this.indexedDB.clear()];case"cookies":return[2,this.browserCache.clearCookies()];default:return[2,{type:e,success:!1,error:"Unknown cache type: ".concat(e)}]}})})},e.prototype.clearServiceWorkers=function(){return n(this,void 0,void 0,function(){return o(this,function(e){return[2,this.serviceWorker.clear()]})})},e.prototype.clearCacheAPI=function(){return n(this,void 0,void 0,function(){return o(this,function(e){return[2,this.browserCache.clearCacheAPI()]})})},e.prototype.clearLocalStorage=function(){return n(this,void 0,void 0,function(){return o(this,function(e){return[2,this.storage.clearLocalStorage()]})})},e.prototype.clearSessionStorage=function(){return n(this,void 0,void 0,function(){return o(this,function(e){return[2,this.storage.clearSessionStorage()]})})},e.prototype.clearIndexedDB=function(){return n(this,void 0,void 0,function(){return o(this,function(e){return[2,this.indexedDB.clear()]})})},e.prototype.clearCookies=function(){return n(this,void 0,void 0,function(){return o(this,function(e){return[2,this.browserCache.clearCookies()]})})},e.prototype.hardReload=function(){this.reloader.reload(!0)},e.prototype.clearAndReload=function(e){return n(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,this.clear(e)];case 1:return r.sent(),this.hardReload(),[2]}})})},e.prototype.getStorageEstimate=function(){return n(this,void 0,void 0,function(){return o(this,function(e){return"storage"in navigator&&"estimate"in navigator.storage?[2,navigator.storage.estimate()]:[2,null]})})},e.prototype.getCapabilities=function(){return this.capabilities},e.prototype.resolveTargets=function(e){var r=this;if(e.includes("all")){return["serviceWorker","cacheAPI","localStorage","sessionStorage","indexedDB","cookies"].filter(function(e){switch(e){case"serviceWorker":return r.capabilities.serviceWorker;case"cacheAPI":return r.capabilities.cacheAPI;case"indexedDB":return r.capabilities.indexedDB;default:return!0}})}return e},e.prototype.mergeConfig=function(r){return t(t(t({},e.DEFAULTS),r),{cookies:t(t({},e.DEFAULTS.cookies),r.cookies),indexedDB:t(t({},e.DEFAULTS.indexedDB),r.indexedDB),storage:t(t({},e.DEFAULTS.storage),r.storage),hooks:t(t({},e.DEFAULTS.hooks),r.hooks)})},e.prototype.wrapError=function(e,r){if(e instanceof h)return e;var t=e instanceof Error?e:new Error(String(e));return new h("Failed to clear ".concat(r,": ").concat(t.message),"UNKNOWN",r,t)},e.DEFAULTS={targets:["all"],include:[],exclude:[],cookies:{preserveEssential:!0,essentialCookies:["csrf","session","auth"]},indexedDB:{deleteDatabase:!0},storage:{preserveKeys:[]},debug:!1,hooks:{},autoReload:!1,reloadDelay:100,preventBfCache:!1},e}(),x=e.createContext(null);function C(){var r=e.useContext(x);if(!r)throw new Error("useCacheShield must be used within CacheShieldProvider");return r}exports.CacheShieldProvider=function(r){var t=this,a=r.children,s=r.config,c=i(e.useState(function(){return new k(s)}),1)[0],l=i(e.useState(!1),2),u=l[0],d=l[1],h=i(e.useState(null),2),p=h[0],g=h[1],y=e.useCallback(function(e){return n(t,void 0,void 0,function(){var r;return o(this,function(t){switch(t.label){case 0:d(!0),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,c.clear(e)];case 2:return r=t.sent(),g(r),[2,r];case 3:return d(!1),[7];case 4:return[2]}})})},[c]),v=e.useCallback(function(e){return n(t,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:d(!0),r.label=1;case 1:switch(r.trys.push([1,,15,16]),e){case"serviceWorker":return[3,2];case"localStorage":return[3,4];case"sessionStorage":return[3,6];case"indexedDB":return[3,8];case"cookies":return[3,10];case"cacheAPI":return[3,12]}return[3,14];case 2:return[4,c.clearServiceWorkers()];case 3:return r.sent(),[3,14];case 4:return[4,c.clearLocalStorage()];case 5:return r.sent(),[3,14];case 6:return[4,c.clearSessionStorage()];case 7:return r.sent(),[3,14];case 8:return[4,c.clearIndexedDB()];case 9:return r.sent(),[3,14];case 10:return[4,c.clearCookies()];case 11:return r.sent(),[3,14];case 12:return[4,c.clearCacheAPI()];case 13:return r.sent(),[3,14];case 14:return[3,16];case 15:return d(!1),[7];case 16:return[2]}})})},[c]),b=e.useCallback(function(){c.hardReload()},[c]),m={shield:c,isClearing:u,lastResult:p,clear:y,clearType:v,hardReload:b,capabilities:c.getCapabilities()};return f.jsx(x.Provider,{value:m,children:a})},exports.ClearCacheButton=function(e){var r=this,t=e.children,a=void 0===t?"Clear Cache":t,i=e.onSuccess,s=e.onError,c=e.options,l=e.className,u=e.disabled,d=C(),h=d.clear,p=d.isClearing;return f.jsx("button",{onClick:function(){return n(r,void 0,void 0,function(){var e,r;return o(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,h(c)];case 1:return e=t.sent(),null==i||i(e),[3,3];case 2:return r=t.sent(),null==s||s(r instanceof Error?r:new Error(String(r))),[3,3];case 3:return[2]}})})},disabled:u||p,className:l,children:p?"Clearing...":a})},exports.useCacheShield=C,exports.useCacheShieldSimple=function(r){var t=this,a=i(e.useState(function(){return new k(r)}),1)[0],s=i(e.useState(!1),2),c=s[0],l=s[1],u=i(e.useState(null),2),d=u[0],f=u[1];return{clear:e.useCallback(function(e){return n(t,void 0,void 0,function(){var r;return o(this,function(t){switch(t.label){case 0:l(!0),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,a.clear(e)];case 2:return r=t.sent(),f(r),[2,r];case 3:return l(!1),[7];case 4:return[2]}})})},[a]),isClearing:c,lastResult:d,shield:a}};
